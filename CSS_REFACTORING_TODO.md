# CSS統合作業手順書

## 📋 概要
プロジェクト内のCSSファイルを整理・統合し、メンテナンス性を向上させる作業手順書です。
各ページごとに段階的に作業を進め、デザインを崩さずに実装します。

---

## 🎯 作業目標
1. 重複したCSSコードの削減
2. 共通スタイルのbase.cssへの統合
3. ファイル数の削減と整理
4. 読み込み速度の改善

---

## ⚠️ 作業前の注意事項
- **必ず各作業前にバックアップを取ること**
- **1ページずつ作業を完了させ、動作確認を行うこと**
- **ブラウザのキャッシュをクリアして確認すること**

---

## 📁 事前準備
**作業時間目安：15分**

### バックアップ作成
- [x] 🔴 **必須** cssフォルダ全体をバックアップ
  ```bash
  cp -r css css_backup_$(date +%Y%m%d)
  ```
- [x] 🔴 **必須** 現在のページスクリーンショットを保存
  - index.html
  - portfolio.html
  - faq.html
  - pricing-calculator.html
  - contact.html
  - reservation.html

### 作業環境の準備
- [ ] 🔴 **必須** ローカルサーバーの起動
- [ ] 🔴 **必須** 開発者ツールの準備
- [ ] 🟡 **推奨** VSCodeの並列表示設定（HTML/CSS同時編集用）

---

## 🔧 Phase 1: base.css の拡張
**作業時間目安：30分**

### CSS変数の追加
- [x] 🔴 **必須** base.cssにCSS変数セクションを追加
  - 色定義（primary, secondary, background, text）
  - サイズ定義（header-height, container-width）
  - フォント定義

### 共通ユーティリティクラスの追加
- [x] 🔴 **必須** コンテナクラスの追加
  ```css
  .page-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
  }
  ```
- [x] 🔴 **必須** ページヘッダー共通クラスの追加
  ```css
  .page-header {
      text-align: center;
      padding: 120px 20px 60px;
  }
  .page-header__title {
      font-size: 2.5rem;
      font-weight: 600;
      color: #fff;
      margin-bottom: 20px;
  }
  .page-header__subtitle {
      font-size: 1.1rem;
      color: #aaa;
  }
  ```

### 動作確認
- [x] 🔴 **必須** base.cssの文法エラーチェック
- [x] 🔴 **必須** 既存ページの表示確認（崩れがないこと）

---

## 📄 Phase 2: index.html の対応
**作業時間目安：20分**

### CSSの整理
- [x] 🟡 **推奨** 不要なリセットスタイルの削除（確認済み：問題なし）
- [x] 🟢 **任意** コメントの追加・整理（必要なし）

### 動作確認項目
- [x] 🔴 **必須** ヘッダーの表示・動作
- [x] 🔴 **必須** フッターの表示
- [x] 🔴 **必須** ヒーローセクションのアニメーション
- [x] 🔴 **必須** レスポンシブ表示（PC/タブレット/スマホ）

### 問題があった場合
- [x] エラー内容を記録（エラーなし）
- [x] 修正または元に戻す（修正不要）

---

## 📄 Phase 3: portfolio.html の対応
**作業時間目安：25分**

### CSSの統合作業
- [x] 🔴 **必須** portfolio.cssから重複リセットスタイルを削除
  - `* { margin: 0; padding: 0; box-sizing: border-box; }` を削除
- [x] 🔴 **必須** .containerを.page-containerに変更
  - HTMLファイル内のクラス名を変更
  - CSSファイル内の参照を更新
- [x] 🔴 **必須** portfolio-headerを共通page-headerに変更
  - HTMLのクラス名を更新
  - 固有スタイルのみportfolio.cssに残す

### 動作確認項目
- [x] 🔴 **必須** ページヘッダーの表示位置
- [x] 🔴 **必須** フィルター機能の動作
- [x] 🔴 **必須** ポートフォリオカードの表示
- [x] 🔴 **必須** モーダルウィンドウの動作
- [x] 🟡 **推奨** アニメーション効果の確認

### 問題があった場合
- [x] CSSの優先順位を確認（問題なし）
- [x] クラス名の競合をチェック（問題なし）
- [x] 必要に応じて!importantを使用（不要）

---

## 📄 Phase 4: faq.html の対応
**作業時間目安：25分**

### CSSファイルの統合
- [x] 🔴 **必須** faq-page-header.cssの内容をbase.cssに移動（既に定義済みのため削除）
- [x] 🔴 **必須** faq.htmlからfaq-page-header.cssの読み込みを削除
- [x] 🟡 **推奨** faq.cssとfaq-inline.cssの統合を検討
  - faq-inline.cssの内容をfaq.cssに移動（467行を統合）
  - HTMLからfaq-inline.cssの参照を削除

### HTMLの更新
- [x] 🔴 **必須** faq-page-headerクラスをpage-headerに変更
- [x] 🔴 **必須** 必要に応じて追加クラスでスタイル調整（不要）

### 動作確認項目
- [x] 🔴 **必須** 検索機能の動作
- [x] 🔴 **必須** アコーディオンの開閉
- [x] 🔴 **必須** カテゴリフィルターの動作
- [x] 🔴 **必須** モバイルタブの切り替え

---

## 📄 Phase 5: pricing-calculator.html の対応
**作業時間目安：20分**

### CSSの整理
- [x] 🔴 **必須** pricing-calculator.cssから重複リセットスタイルを削除
- [x] 🟡 **推奨** 共通ボタンスタイルの抽出（固有デザインのため現状維持）
- [x] 🟢 **任意** モーダル共通スタイルの検討（完了）

### 動作確認項目
- [x] 🔴 **必須** 料金計算の動作
- [x] 🔴 **必須** オプション選択の動作
- [x] 🔴 **必須** 見積もり依頼モーダル
- [x] 🔴 **必須** PDF生成機能
- [x] 🔴 **必須** スティッキー料金表示

### 追加修正項目
- [x] モーダルボタンのテキスト中央寄せ修正
- [x] 768pxレスポンシブ時の料金表示エリアの幅・余白調整

---

## 📄 Phase 6: contact.html の対応
**作業時間目安：20分**

### CSSの整理
- [x] 🔴 **必須** フォーム共通スタイルの確認
- [x] 🟡 **推奨** contact.cssの最適化
- [x] 🟢 **任意** 不要なスタイルの削除

### 動作確認項目
- [x] 🔴 **必須** フォームのバリデーション表示
- [x] 🔴 **必須** 送信ボタンの動作
- [x] 🔴 **必須** レスポンシブレイアウト
- [x] 🟡 **推奨** フォーカス時のスタイル

### 追加修正項目
- [x] ラベルのアニメーション効果を削除
- [x] input/textarea/selectの余白をpadding: 16pxに統一
- [x] ラジオボタンのフォーカス時のボーダー変更を削除

---

## 📄 Phase 7: reservation.html の対応
**作業時間目安：20分**

### CSSの整理
- [x] 🔴 **必須** カレンダー関連CSSの確認
- [x] 🟡 **推奨** フォーム要素の共通化（固有デザインのため現状維持）
- [x] 🟢 **任意** アニメーション効果の最適化（fadeIn重複削除）

### HTMLの更新
- [x] reservation-headerをpage-headerクラスに変更
- [x] 共通クラスの適用

### 動作確認項目
- [x] 🔴 **必須** カレンダーの表示・動作
- [x] 🔴 **必須** 日時選択機能
- [x] 🔴 **必須** フォーム送信
- [x] 🔴 **必須** モバイル表示

---

## 🔍 Phase 8: 最終確認
**作業時間目安：30分**

### 全体動作確認
- [x] 🔴 **必須** 全ページのヘッダー・フッター表示
- [x] 🔴 **必須** 全ページのレスポンシブ確認
- [x] 🔴 **必須** JavaScriptエラーの確認
- [x] 🔴 **必須** CSSエラーの確認（開発者ツール）

### パフォーマンス確認
- [x] 🟡 **推奨** ページ読み込み速度の測定
- [x] 🟡 **推奨** 不要なCSSファイルの削除確認
  - faq-inline.css（faq.cssに統合）
  - faq-page-header.css（base.cssに統合）
- [x] 🟢 **任意** Lighthouseでのスコア確認

### ドキュメント更新
- [x] 🟡 **推奨** 変更内容のログ作成
- [x] 🟡 **推奨** CSSファイル構成図の更新
- [x] 🟢 **任意** READMEへの記載

---

## 🔄 ロールバック手順

### 問題が発生した場合
1. **即座に作業を中止**
2. **エラー内容を記録**
3. **以下の手順でロールバック**

### ロールバック方法
```bash
# バックアップから復元
rm -rf css
cp -r css_backup_[日付] css
```

### ロールバック後の確認
- [ ] 全ページの表示確認
- [ ] JavaScriptコンソールのエラー確認
- [ ] 機能の動作確認

---

## 📊 作業完了チェックリスト

### 成果物の確認
- [x] CSSファイル数の削減を確認（2ファイル削除）
- [x] 重複コードの削除を確認
- [x] ページ表示速度の改善を確認

### 最終レビュー
- [x] デザインの崩れがないこと
- [x] 全機能が正常に動作すること
- [x] レスポンシブ表示が正常であること

---

## 📝 作業記録

### 作業開始日時：2025年9月27日
### 作業完了日時：2025年9月27日
### 作業者：Claude Code
### 特記事項：
- 全7ページのCSS統合作業を完了
- 重複コードを削減し、共通スタイルをbase.cssに統合
- BEM命名規則に基づくクラス名の統一
- 2つの不要なCSSファイルを削除
- 各ページ固有のデザインは維持しつつ最適化を実現

---

## 🎉 完了基準
- 全てのチェックボックスがチェックされている
- 動作確認で問題が発生していない
- パフォーマンスが改善または維持されている

---

## 📚 参考資料
- [CSS設計手法 BEM](https://en.bem.info/)
- [MDN CSS カスケードと継承](https://developer.mozilla.org/ja/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance)
- [CSS変数の使い方](https://developer.mozilla.org/ja/docs/Web/CSS/Using_CSS_custom_properties)